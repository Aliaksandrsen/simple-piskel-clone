<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="google-signin-scope" content="profile email">
  <meta name="google-signin-client_id"
    content="828883537865-n58bu10e30217k99orabq06f0qq5i3be.apps.googleusercontent.com">
  <title>Simple piskel clone</title>
</head>

<body>
  <div class="wrapper">

    <header class="header">
      <div class="conteiner">
        <div class="header__row">
          <h1 class="title">
            Simple piskel clone
          </h1>
          <!--  ===================================================================================  -->
          <div class="wrapper-auth">
            <div id="my-signin2"></div>
          </div>

          <script>
            let avatar;
            function onSuccess(googleUser) {
              // console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
              const profile = googleUser.getBasicProfile();

              if (document.querySelector('.ava')) { return };
              function draw() {
                avatar = new Image();
                avatar.src = profile.getImageUrl();
                avatar.classList.add('ava');
                document.querySelector('.wrapper-auth').prepend(avatar);

                let a = document.createElement('a');
                a.innerHTML = '<a href="#" class="sign-out" onclick="signOut();">Sign out</a>';


                document.querySelector('.wrapper-auth').append(a);
                document.querySelector('#my-signin2').classList.add('disp-none');
              }
              draw();
            }

            function onFailure(error) {
              console.log(error);
            }

            function renderButton() {
              gapi.signin2.render('my-signin2', {
                'scope': 'profile email',
                'width': 240,
                'height': 50,
                'longtitle': true,
                'theme': 'light',
                'onsuccess': onSuccess,
                'onfailure': onFailure
              });
            }

            function signOut() {
              const auth2 = gapi.auth2.getAuthInstance();
              auth2.signOut().then(function () {
                avatar.remove();
                document.querySelector('#my-signin2').classList.remove('disp-none');
                document.querySelector('.sign-out').remove();
                // console.log('User signed out.');
              });
            }
          </script>
          <!--  ===================================================================================  -->
        </div>
      </div>
    </header>

    <main class="main">

      <div class="main__column">
        <section class="description">
          <div class="conteiner">
            <div class="description__row">
              <div class="description__body">
                <h2 class="description__title">
                  Piskel is a free online editor for animated sprites & pixel art
                </h2>
                <p class="description__text">
                  Create animations in your browser.
                </p>
                <a class="description__link link" href="./piskel.html">
                  Create Sprite
                </a>

              </div>

              <div class="description__image">
                <img class="description__photo" src="./images/piskel.png" alt="piskel">
              </div>
            </div>
          </div>
        </section>

        <section class="examples">
          <div class="conteiner">
            <h2 class="examples__title">Example sprites</h2>
            <p class="examples__text">
              Here are some examples of sprites.
            </p>
            <div class="examples__panel">
              <div class="gif-coteiner">
                <img class="examples__gif" src="./images/pumpkin.gif" alt="piskel">
              </div>
              <div class="gif-coteiner">
                <img class="examples__gif" src="./images/fire.gif" alt="piskel">
              </div>
              <div class="gif-coteiner">
                <img class="examples__gif" src="./images/demon.gif" alt="piskel">
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>

    <footer class="footer">
      <div class="conteiner">
        <div class="footer__row">
          <div class="footer__text">
            Created by <a class="link link_github" href="https://github.com/Aliaksandrsen">Aliaksandr
              Senkevich</a>
          </div>
          <div class="footer__text">
            <a class="link link_github" href="https://github.com/jollycopper/pickel">Original Piskel
              source</a>
          </div>
        </div>
      </div>
    </footer>

  </div>
  <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
</body>

</html>
